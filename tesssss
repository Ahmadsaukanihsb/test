-- Mobile-optimized DAIZZ DUPER X GUI
-- Enhanced for touchscreen devices with larger buttons and better scaling

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

-- Remove old GUI if exists
if CoreGui:FindFirstChild("DuperGUI") then
    CoreGui.DuperGUI:Destroy()
end

-- Screen dimensions for responsive scaling
local viewportSize = workspace.CurrentCamera.ViewportSize
local isMobile = UserInputService.TouchEnabled and not UserInputService.MouseEnabled
local scaleFactor = isMobile and math.min(viewportSize.X/500, 1.2) or 1

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "DuperGUI"
screenGui.DisplayOrder = 999
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.Parent = CoreGui

-- Main Frame with responsive sizing
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 300 * scaleFactor, 0, 400 * scaleFactor)
mainFrame.Position = UDim2.new(0.5, -150 * scaleFactor, 0.5, -200 * scaleFactor)
mainFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
mainFrame.BorderSizePixel = 0
mainFrame.ClipsDescendants = true
mainFrame.Parent = screenGui

-- Rounded corners
local mainFrameCorner = Instance.new("UICorner")
mainFrameCorner.CornerRadius = UDim.new(0, 12 * scaleFactor)
mainFrameCorner.Parent = mainFrame

-- Drop shadow for better visibility
local shadow = Instance.new("ImageLabel")
shadow.Name = "Shadow"
shadow.Image = "rbxassetid://1316045217"
shadow.ImageColor3 = Color3.new(0, 0, 0)
shadow.ImageTransparency = 0.8
shadow.ScaleType = Enum.ScaleType.Slice
shadow.SliceCenter = Rect.new(10, 10, 118, 118)
shadow.Size = UDim2.new(1, 10 * scaleFactor, 1, 10 * scaleFactor)
shadow.Position = UDim2.new(0, -5 * scaleFactor, 0, -5 * scaleFactor)
shadow.BackgroundTransparency = 1
shadow.Parent = mainFrame
shadow.ZIndex = -1

-- UI Padding
local uiPadding = Instance.new("UIPadding")
uiPadding.PaddingTop = UDim.new(0, 15 * scaleFactor)
uiPadding.PaddingBottom = UDim.new(0, 15 * scaleFactor)
uiPadding.PaddingLeft = UDim.new(0, 20 * scaleFactor)
uiPadding.PaddingRight = UDim.new(0, 20 * scaleFactor)
uiPadding.Parent = mainFrame

-- UIListLayout for vertical arrangement
local listLayout = Instance.new("UIListLayout")
listLayout.FillDirection = Enum.FillDirection.Vertical
listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
listLayout.Padding = UDim.new(0, 12 * scaleFactor)
listLayout.Parent = mainFrame

-- Make frame draggable on mobile
local dragStartPos, frameStartPos
local function makeDraggable(frame)
    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            dragStartPos = input.Position
            frameStartPos = frame.Position
            local tween = TweenService:Create(frame, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(60, 60, 60)})
            tween:Play()
        end
    end)
    
    frame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch and dragStartPos then
            local delta = input.Position - dragStartPos
            frame.Position = UDim2.new(frameStartPos.X.Scale, frameStartPos.X.Offset + delta.X, 
                                      frameStartPos.Y.Scale, frameStartPos.Y.Offset + delta.Y)
        end
    end)
    
    frame.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            dragStartPos = nil
            local tween = TweenService:Create(frame, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(45, 45, 45)})
            tween:Play()
        end
    end)
end

makeDraggable(mainFrame)

-- Control Buttons (Close and Toggle)
local controlButtons = Instance.new("Frame")
controlButtons.Name = "ControlButtons"
controlButtons.Size = UDim2.new(1, 0, 0, 30 * scaleFactor)
controlButtons.BackgroundTransparency = 1
controlButtons.Parent = mainFrame

local controlButtonsLayout = Instance.new("UIListLayout")
controlButtonsLayout.FillDirection = Enum.FillDirection.Horizontal
controlButtonsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Right
controlButtonsLayout.Padding = UDim.new(0, 10 * scaleFactor)
controlButtonsLayout.Parent = controlButtons

-- Toggle Button (Eye icon)
local toggleButton = Instance.new("ImageButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(0, 30 * scaleFactor, 0, 30 * scaleFactor)
toggleButton.BackgroundTransparency = 1
toggleButton.Image = "rbxassetid://5404170067"
toggleButton.ScaleType = Enum.ScaleType.Fit
toggleButton.Parent = controlButtons

-- Close Button (X icon)
local closeButton = Instance.new("ImageButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 30 * scaleFactor, 0, 30 * scaleFactor)
closeButton.BackgroundTransparency = 1
closeButton.Image = "rbxassetid://5404169722"
closeButton.ScaleType = Enum.ScaleType.Fit
closeButton.Parent = controlButtons

-- Button animations
local function buttonHoverEffect(button)
    button.MouseEnter:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.1), {ImageColor3 = Color3.fromRGB(200, 200, 200)}):Play()
    end)
    button.MouseLeave:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.1), {ImageColor3 = Color3.fromRGB(255, 255, 255)}):Play()
    end)
end

buttonHoverEffect(toggleButton)
buttonHoverEffect(closeButton)

-- Toggle functionality
local isGuiVisible = true
toggleButton.MouseButton1Click:Connect(function()
    isGuiVisible = not isGuiVisible
    screenGui.Enabled = isGuiVisible
end)

closeButton.MouseButton1Click:Connect(function()
    screenGui:Destroy()
end)

-- Header Section
local headerFrame = Instance.new("Frame")
headerFrame.Name = "HeaderFrame"
headerFrame.Size = UDim2.new(1, 0, 0, 40 * scaleFactor)
headerFrame.BackgroundTransparency = 1
headerFrame.Parent = mainFrame

local headerLayout = Instance.new("UIListLayout")
headerLayout.FillDirection = Enum.FillDirection.Horizontal
headerLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
headerLayout.VerticalAlignment = Enum.VerticalAlignment.Center
headerLayout.Padding = UDim.new(0, 10 * scaleFactor)
headerLayout.Parent = headerFrame

-- Lightning Icon
local lightningIcon = Instance.new("ImageLabel")
lightningIcon.Name = "LightningIcon"
lightningIcon.Size = UDim2.new(0, 30 * scaleFactor, 0, 30 * scaleFactor)
lightningIcon.BackgroundTransparency = 1
lightningIcon.Image = "rbxassetid://6034177579"
lightningIcon.Parent = headerFrame

-- Title Text
local titleText = Instance.new("TextLabel")
titleText.Name = "TitleText"
titleText.Size = UDim2.new(0, 150 * scaleFactor, 0, 40 * scaleFactor)
titleText.BackgroundTransparency = 1
titleText.Font = Enum.Font.GothamBold
titleText.TextColor3 = Color3.fromRGB(255, 255, 255)
titleText.TextSize = 22 * scaleFactor
titleText.Text = "DAIZZ DUPER X"
titleText.TextXAlignment = Enum.TextXAlignment.Left
titleText.Parent = headerFrame

-- Version Text
local versionText = Instance.new("TextLabel")
versionText.Name = "VersionText"
versionText.Size = UDim2.new(0, 70 * scaleFactor, 0, 40 * scaleFactor)
versionText.BackgroundTransparency = 1
versionText.Font = Enum.Font.Gotham
versionText.TextColor3 = Color3.fromRGB(200, 200, 200)
versionText.TextSize = 16 * scaleFactor
versionText.Text = "(v3.2.1)"
versionText.TextXAlignment = Enum.TextXAlignment.Left
versionText.Parent = headerFrame

-- Error Section
local errorFrame = Instance.new("Frame")
errorFrame.Name = "ErrorFrame"
errorFrame.Size = UDim2.new(1, 0, 0, 80 * scaleFactor)
errorFrame.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
errorFrame.Parent = mainFrame

local errorCorner = Instance.new("UICorner")
errorCorner.CornerRadius = UDim.new(0, 8 * scaleFactor)
errorCorner.Parent = errorFrame

local errorLayout = Instance.new("UIListLayout")
errorLayout.FillDirection = Enum.FillDirection.Vertical
errorLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
errorLayout.VerticalAlignment = Enum.VerticalAlignment.Center
errorLayout.Padding = UDim.new(0, 5 * scaleFactor)
errorLayout.Parent = errorFrame

-- Error Icon
local errorIcon = Instance.new("ImageLabel")
errorIcon.Name = "ErrorIcon"
errorIcon.Size = UDim2.new(0, 30 * scaleFactor, 0, 30 * scaleFactor)
errorIcon.BackgroundTransparency = 1
errorIcon.Image = "rbxassetid://5404169722"
errorIcon.ImageColor3 = Color3.fromRGB(255, 150, 150)
errorIcon.Parent = errorFrame

-- Error Title
local errorTitle = Instance.new("TextLabel")
errorTitle.Name = "ErrorTitle"
errorTitle.Size = UDim2.new(1, -20 * scaleFactor, 0, 20 * scaleFactor)
errorTitle.BackgroundTransparency = 1
errorTitle.Font = Enum.Font.GothamBold
errorTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
errorTitle.TextSize = 16 * scaleFactor
errorTitle.Text = "ERROR: REQUIRED PET NOT FOUND"
errorTitle.Parent = errorFrame

-- Error Message
local errorMessage = Instance.new("TextLabel")
errorMessage.Name = "ErrorMessage"
errorMessage.Size = UDim2.new(1, -20 * scaleFactor, 0, 18 * scaleFactor)
errorMessage.BackgroundTransparency = 1
errorMessage.Font = Enum.Font.Gotham
errorMessage.TextColor3 = Color3.fromRGB(255, 255, 255)
errorMessage.TextSize = 14 * scaleFactor
errorMessage.Text = "REQUIRES RED FOX, DRAGONFLY, OR RACCOON!"
errorMessage.Parent = errorFrame

-- Instructions Section
local instructionsFrame = Instance.new("Frame")
instructionsFrame.Name = "InstructionsFrame"
instructionsFrame.Size = UDim2.new(1, 0, 0, 120 * scaleFactor)
instructionsFrame.BackgroundTransparency = 1
instructionsFrame.Parent = mainFrame

local instructionsLayout = Instance.new("UIListLayout")
instructionsLayout.FillDirection = Enum.FillDirection.Vertical
instructionsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
instructionsLayout.Padding = UDim.new(0, 8 * scaleFactor)
instructionsLayout.Parent = instructionsFrame

-- Instructions Icon
local instructionsIcon = Instance.new("ImageLabel")
instructionsIcon.Name = "InstructionsIcon"
instructionsIcon.Size = UDim2.new(0, 25 * scaleFactor, 0, 25 * scaleFactor)
instructionsIcon.BackgroundTransparency = 1
instructionsIcon.Image = "rbxassetid://5971485304"
instructionsIcon.Parent = instructionsFrame

-- Instructions Text
local instructions = {
    "1. Hold a RED FOX/DRAGONFLY/RACCOON",
    "2. Keep inventory open",
    "3. Press DUPLICATE button",
    "4. Wait 5-10 Minutes"
}

for i, text in ipairs(instructions) do
    local instText = Instance.new("TextLabel")
    instText.Name = "InstructionsText"..i
    instText.Size = UDim2.new(1, 0, 0, 20 * scaleFactor)
    instText.BackgroundTransparency = 1
    instText.Font = Enum.Font.Gotham
    instText.TextColor3 = Color3.fromRGB(255, 255, 255)
    instText.TextSize = 15 * scaleFactor
    instText.TextXAlignment = Enum.TextXAlignment.Left
    instText.Text = text
    instText.Parent = instructionsFrame
end

-- Success Rate Section
local successRateFrame = Instance.new("Frame")
successRateFrame.Name = "SuccessRateFrame"
successRateFrame.Size = UDim2.new(1, 0, 0, 25 * scaleFactor)
successRateFrame.BackgroundTransparency = 1
successRateFrame.Parent = mainFrame

local successLayout = Instance.new("UIListLayout")
successLayout.FillDirection = Enum.FillDirection.Horizontal
successLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
successLayout.VerticalAlignment = Enum.VerticalAlignment.Center
successLayout.Padding = UDim.new(0, 8 * scaleFactor)
successLayout.Parent = successRateFrame

-- Check Icon
local checkIcon = Instance.new("ImageLabel")
checkIcon.Name = "CheckIcon"
checkIcon.Size = UDim2.new(0, 20 * scaleFactor, 0, 20 * scaleFactor)
checkIcon.BackgroundTransparency = 1
checkIcon.Image = "rbxassetid://269661448"
checkIcon.ImageColor3 = Color3.fromRGB(0, 255, 0)
checkIcon.Parent = successRateFrame

-- Success Rate Text
local successRateText = Instance.new("TextLabel")
successRateText.Name = "SuccessRateText"
successRateText.Size = UDim2.new(0, 150 * scaleFactor, 0, 25 * scaleFactor)
successRateText.BackgroundTransparency = 1
successRateText.Font = Enum.Font.GothamBold
successRateText.TextColor3 = Color3.fromRGB(0, 255, 0)
successRateText.TextSize = 16 * scaleFactor
successRateText.Text = "92% Success Rate"
successRateText.TextXAlignment = Enum.TextXAlignment.Left
successRateText.Parent = successRateFrame

-- Try Again Button (larger for mobile)
local tryAgainButton = Instance.new("TextButton")
tryAgainButton.Name = "TryAgainButton"
tryAgainButton.Size = UDim2.new(1, 0, 0, 50 * scaleFactor)
tryAgainButton.BackgroundColor3 = Color3.fromRGB(200, 30, 30)
tryAgainButton.BorderSizePixel = 0
tryAgainButton.Font = Enum.Font.GothamBold
tryAgainButton.TextColor3 = Color3.fromRGB(255, 255, 255)
tryAgainButton.TextSize = 18 * scaleFactor
tryAgainButton.Text = "TRY AGAIN"
tryAgainButton.Parent = mainFrame

local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(0, 8 * scaleFactor)
buttonCorner.Parent = tryAgainButton

-- Button animation
tryAgainButton.MouseButton1Click:Connect(function()
    -- Pulse animation
    local tweenIn = TweenService:Create(tryAgainButton, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(230, 50, 50)})
    local tweenOut = TweenService:Create(tryAgainButton, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(200, 30, 30)})
    tweenIn:Play()
    tweenIn.Completed:Connect(function()
        tweenOut:Play()
    end)
    
    print("Duplication process started...")
end)

-- Footer
local footerFrame = Instance.new("Frame")
footerFrame.Name = "FooterFrame"
footerFrame.Size = UDim2.new(1, 0, 0, 20 * scaleFactor)
footerFrame.BackgroundTransparency = 1
footerFrame.Parent = mainFrame

local footerText = Instance.new("TextLabel")
footerText.Name = "FooterText"
footerText.Size = UDim2.new(1, 0, 1, 0)
footerText.BackgroundTransparency = 1
footerText.Font = Enum.Font.Gotham
footerText.TextColor3 = Color3.fromRGB(150, 150, 150)
footerText.TextSize = 12 * scaleFactor
footerText.Text = "Daizz Duper X © 2025 | VIP Build #8271 | discord.gg/daizz"
footerText.Parent = footerFrame

print("Mobile-optimized DAIZZ DUPER X GUI loaded successfully!")
